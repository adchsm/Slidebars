/*!
 * Slidebars - A jQuery framework for off-canvas menus and sidebars.
 * Version: 2.0 Beta 7
 * Url: http://plugins.adchsm.me/slidebars/
 * Author: Adam Charles Smith
 * Author url: http://www.adchsm.com/
 * License: GPL General Pubic License v2.0
 * License url: http://www.gnu.org/licenses/gpl-2.0.html
 */

var slidebars=function(){var e=$("[canvas]"),t={},i=!1,n=!1,s=["top","right","bottom","left"],r=["reveal","push","overlay"],o="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",a=function(e,i,n,s){return t.hasOwnProperty(e)?!1:void(t[e]={id:e,side:i,style:n,element:s,active:!1})},f=function(i){var n=$(),s="0px, 0px";return("reveal"===t[i].style||"push"===t[i].style)&&(n=n.add(e)),("push"===t[i].style||"overlay"===t[i].style)&&(n=n.add(t[i].element)),t[i].active&&("top"===t[i].side?s="0px, "+t[i].element.css("height"):"right"===t[i].side?s="-"+t[i].element.css("width")+", 0px":"bottom"===t[i].side?s="0px, -"+t[i].element.css("height"):"left"===t[i].side&&(s=t[i].element.css("width")+", 0px")),{elements:n,amount:s}};this.init=function(e){return i?!1:(n||($("[off-canvas]").each(function(){var e=$(this).attr("off-canvas").split(" ",3);e[0]&&-1!==s.indexOf(e[1])&&-1!==r.indexOf(e[2])&&a(e[0],e[1],e[2],$(this))}),n=!0),i=!0,this.css(),$(c).trigger("init"),void("function"==typeof e&&e()))},this.exit=function(e){if(!i)return!1;var t=function(){i=!1,$(c).trigger("exit"),"function"==typeof e&&e()};this.active("slidebar")?this.close(this.active("slidebar"),t):t()},this.css=function(e){if(!i)return!1;for(var n in t)if(t.hasOwnProperty(n)){var s;s=t[n].element.css("top"===t[n].side||"bottom"===t[n].side?"height":"width"),("push"===t[n].style||"overlay"===t[n].style)&&t[n].element.css("margin-"+t[n].side,"-"+s)}this.active("slidebar")&&this.open(this.active("slidebar")),$(c).trigger("css"),"function"==typeof e&&e()},this.open=function(e,n){if(!i)return!1;if(!e)return!1;if(!t.hasOwnProperty(e))return!1;var s=function(){t[e].active=!0,t[e].element.css("display","block"),$(c).trigger("opening",[t[e].id]);var i=f(e);i.elements.css("transform","translate("+i.amount+")"),i.elements.on(o,function(){$(c).trigger("opened",[t[e].id]),"function"==typeof n&&n(),i.elements.off(o)})};this.active("slidebar")&&this.active("slidebar")!==e?this.close(this.active("slidebar"),s):s()},this.close=function(e,n){if(!i)return!1;if(e&&!t.hasOwnProperty(e))return!1;if(!e)for(var s in t)t.hasOwnProperty(s)&&t[s].active===!0&&(e=s);if(e&&t[e].active===!0){t[e].active=!1,$(c).trigger("closing",[t[e].id]);var r=f(e);r.elements.css("transform","translate("+r.amount+")"),r.elements.on(o,function(){t[e].element.css("display","none"),$(c).trigger("closed",[t[e].id]),"function"==typeof n&&n(),r.elements.off(o)})}},this.toggle=function(e,n){return i&&e&&t.hasOwnProperty(e)?void(t[e].active?this.close(e,function(){"function"==typeof n&&n()}):this.open(e,function(){"function"==typeof n&&n()})):!1},this.active=function(e,n){if(!e)return!1;var s=!1;if("init"===e)s=i;else if("slidebar"===e){if(!i)return!1;for(var r in t)if(t.hasOwnProperty(r)&&t[r].active){s=t[r].id;break}}else if(e){if(!i)return!1;if(!t.hasOwnProperty(e))return!1;s=t[e].active}return"function"==typeof n&&n(),s},this.create=function(e,n,o,f,l){if(!i)return!1;if(e&&-1!==s.indexOf(n)&&-1!==r.indexOf(o)){if(t.hasOwnProperty(e))return!1;$('<div id="'+e+'" off-canvas="'+e+" "+n+" "+o+'"></div>').appendTo("body"),f&&$("#"+e).html(f),a(e,n,o,$("#"+e)),this.css(),$(c).trigger("created",[t[e].id]),"function"==typeof l&&l()}},this.destroy=function(e,n){if(!i)return!1;if(!t.hasOwnProperty(e))return!1;var s=function(){$(c).trigger("destroyed",[t[e].id]),t[e].element.remove(),delete t[e],"function"==typeof n&&n()};t[e].active===!0?this.close(e,s):s()},this.events={};var c=this.events};